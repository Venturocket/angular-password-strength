/*! angular-password-strength 2013-10-31 */
angular.module("vr.passwordStrength",["vr.filters.passwordStrength","vr.directives.passwordStrength"]),angular.module("vr.filters.passwordStrength",["vr.filters.passwordStrength.percent","vr.filters.passwordStrength.level"]),angular.module("vr.directives.passwordStrength",["vr.directives.passwordStrength.class","vr.directives.passwordStrength.width"]),angular.module("vr.services.passwordStrength",[]).factory("passwordStrengthComputations",function(){function a(a){var c=0,d=0;return angular.forEach(b,function(b){0!=b.weight&&(c+=b.weight>0?b.weight:0,d+=b.strength(a))}),c>0?100*(d/c):0}var b={minimumLength:{min:8,weight:30,strength:function(a){if(a){var c=a.length;return c<b.minimumLength.min&&(c/=2),c/b.minimumLength.min*b.minimumLength.weight}return 0}},uppercaseLetters:{min:1,weight:10,strength:function(a){if(a){var c=a.match(/[A-Z]/g);return c?c.length>=b.uppercaseLetters.min?b.uppercaseLetters.weight:c.length/b.uppercaseLetters.min*b.uppercaseLetters.weight:0}return 0}},lowercaseLetters:{min:1,weight:10,strength:function(a){if(a){var c=a.match(/[a-z]/g);return c?c.length>=b.lowercaseLetters.min?b.lowercaseLetters.weight:c.length/b.lowercaseLetters.min*b.lowercaseLetters.weight:0}return 0}},symbols:{min:1,weight:10,strength:function(a){if(a){var c=a.match(/[$-/:-?{-~!\"^_`\[\]]/g);return c?c.length>=b.symbols.min?b.symbols.weight:c.length/b.symbols.min*b.symbols.weight:0}return 0}},numbers:{min:1,weight:10,strength:function(a){if(a){var c=a.match(/[0-9]/g);return c?c.length>=b.numbers.min?b.numbers.weight:c.length/b.numbers.min*b.numbers.weight:0}return 0}},duplicates:{max:3,weight:-30,strength:function(a){if(a){var c=0,d=a.match(new RegExp("(.)\\1{"+b.duplicates.max+",}","g"));return angular.forEach(d,function(a){c+=(a.length-b.duplicates.max)*b.duplicates.weight}),c}return 0}},consecutive:{max:3,weight:-10,strength:function(a){if(a){for(var c=0,d=0,e=!0,f=0,g=0;g<=a.length;g++){var h=-99;g<a.length&&(h=a.charCodeAt(g)),h==d+1?(e?f++:f=2,e=!0):h==d-1?(e?f=2:f++,e=!1):(c+=f>b.consecutive.max?(f-b.consecutive.max)*b.consecutive.weight:0,f=1),d=h}return c}return 0}},dictionary:{words:["asdf","password","qwerty","monkey","letmein","dragon","baseball","iloveyou","trustno1","sunshine","master","welcome","shadow","ashley","football","jesus","michael","ninja","mustang","test"],weight:-40,strength:function(a){if(a){var c=0;return angular.forEach(b.dictionary.words,function(d){c+=a.indexOf(d)>=0?b.dictionary.weight:0}),c}return 0}}};return{aspects:b,getRawStrength:a,getStrength:function(b){var c=a(b);return c>100?100:0>c?0:c},isStrongEnough:function(b,c){return a(b)>=c}}}),angular.module("vr.directives.passwordStrength.class",["vr.filters.passwordStrength.level"]).directive("pwClass",["$filter",function(a){return{restrict:"A",scope:{password:"@pwClass",levels:"@pwLevels"},link:function(b,c){function d(b,d){""!=e&&c.removeClass(e),""!=b?(e="pw-"+a("passwordLevel")(b,d),c.addClass(e)):e=""}var e="";b.levels=parseInt(b.levels),(b.levels<1||1/0==b.levels)&&(b.levels=5),b.$watch("password",function(a){d(a,b.levels)}),b.$watch("levels",function(a){d(b.password,a)})}}}]),angular.module("vr.directives.passwordStrength.width",["vr.filters.passwordStrength.percent"]).directive("pwWidth",["$filter",function(a){return{restrict:"A",scope:{password:"@pwWidth"},link:function(b,c){b.$watch("password",function(b){c.css("width",a("passwordPercent")(b))})}}}]),angular.module("vr.filters.passwordStrength.level",["vr.services.passwordStrength"]).filter("passwordLevel",["passwordStrengthComputations",function(a){return function(b,c){angular.isUndefined(c)&&(c=5);var d=Math.ceil(a.getStrength(b)/(100/c));return"level"+(0==d?1:d)}}]),angular.module("vr.filters.passwordStrength.percent",["vr.services.passwordStrength"]).filter("passwordPercent",["passwordStrengthComputations",function(a){return function(b){return Math.round(a.getStrength(b))+"%"}}]);